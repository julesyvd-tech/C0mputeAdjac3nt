<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Compost Adjacent</title>
<meta name="description" content="Compost Adjacent â€” cosmic compost transmissions" />

<!-- glowing-worm favicon -->
<link rel="icon" href="data:image/svg+xml;utf8,
%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3Cfilter id='g'%3E%3CfeGaussianBlur stdDeviation='2.8'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='%23060606'/%3E%3Cpath d='M8 36c4-10 12-12 20-10s14 8 20 12 8 6 12 4' stroke='%238a4bff' stroke-width='4' stroke-linecap='round' fill='none' filter='url(%23g)'/%3E%3C/svg%3E">

<style>
:root{
  --worm1:#ff4fb3;--worm2:#80ffb0;--worm3:#ffd24a;
  --worm4:#ff8a3d;--worm5:#50f1ff;--worm6:#ff5b5b;
  --bg:#030303;
}
html,body{
  height:100%;margin:0;background:var(--bg);
  font-family:Verdana,Arial,sans-serif;color:#dfeee0;
  overflow:hidden;-webkit-font-smoothing:antialiased;
}
body::before{
  content:"";position:fixed;inset:0;z-index:0;pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Crect width='100%25' height='100%25' fill='%23020202'/%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.07'/%3E%3C/svg%3E");
  background-repeat:repeat;mix-blend-mode:overlay;opacity:.9;
}
canvas#field{position:fixed;inset:0;z-index:1;width:100%;height:100%;display:block}

/* ----- PLAYER BAR ----- */
.player-bar{
  position:fixed;top:0;left:0;width:100%;height:110px;z-index:3;
  border-bottom-left-radius:18px;border-bottom-right-radius:18px;
  background:linear-gradient(180deg,
    rgba(160,90,255,0.4) 0%,
    rgba(90,40,180,0.25) 100%);
  box-shadow:0 6px 22px rgba(140,70,255,0.35),
             inset 0 0 12px rgba(255,255,255,0.08);
  backdrop-filter:blur(6px);
  overflow:hidden;
}
.player-bar::after{
  content:"";position:absolute;top:0;left:-30%;
  width:60%;height:100%;
  background:linear-gradient(90deg,
    rgba(255,255,255,0.15) 0%,rgba(255,255,255,0) 100%);
  animation:shine 10s linear infinite;
}
@keyframes shine{
  0%{transform:translateX(-100%)}
  100%{transform:translateX(200%)}
}
.player-inner{
  position:absolute;top:10px;left:50%;transform:translateX(-50%);
  width:90%;height:90%;
  border-radius:10px;overflow:hidden;
}
.player-inner iframe{width:100%;height:100%;border:none}

/* ----- TITLE (horizontal scroll) ----- */
.title-scroll{
  position:fixed;top:50%;left:0;z-index:2;
  width:100%;white-space:nowrap;overflow:hidden;
  transform:translateY(-50%);
}
.scroll-inner{
  display:inline-block;animation:scrollLeft 40s linear infinite;
}
@keyframes scrollLeft{
  0%{transform:translateX(100%)}
  100%{transform:translateX(-100%)}
}
.scroll-inner .letter{
  display:inline-block;
  font-size:clamp(24px,5vw,56px);
  font-weight:800;text-transform:uppercase;
  margin:0 4px;
  text-shadow:0 8px 24px rgba(0,0,0,.6);
  animation:letterFloat 1.8s ease-in-out infinite;
}
@keyframes letterFloat{
  0%{transform:translateY(0)}
  25%{transform:translateY(-8%)}
  50%{transform:translateY(0)}
  75%{transform:translateY(6%)}
  100%{transform:translateY(0)}
}

/* ----- LINK BUTTONS (with glow halos) ----- */
.links-left,.links-right{
  position:fixed;bottom:22px;z-index:3;display:flex;
  gap:18px;align-items:center;
}
.links-left{left:18px}
.links-right{right:18px}
.link-btn{
  position:relative;
  width:72px;height:72px;display:grid;place-items:center;
  border-radius:12px;text-decoration:none;
  background:rgba(0,0,0,0.2);
  box-shadow:0 0 20px rgba(255,255,255,0.04);
}
.link-btn::before{
  content:"";position:absolute;inset:-10px;
  border-radius:50%;
  background:radial-gradient(circle,
    rgba(255,255,255,0.15) 0%,
    rgba(255,255,255,0) 70%);
  z-index:-1;
  filter:blur(6px);
}
.link-btn svg{width:48px;height:28px}
.inverted{filter:invert(1) hue-rotate(180deg)}
.inverted .player-bar{filter:none}

@media(max-width:520px){
  .link-btn{width:56px;height:56px}
  .link-btn svg{width:40px;height:22px}
  .player-bar{height:96px}
}
</style>
</head>
<body>
<canvas id="field" aria-hidden="true"></canvas>

<div class="player-bar">
  <div class="player-inner">
    <iframe src="https://open.spotify.com/embed/artist/4JYHgAnjpihRXtvZ8Qssok?utm_source=generator&theme=0"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy" title="Compost Adjacent Spotify player"></iframe>
  </div>
</div>

<div class="title-scroll" role="main" aria-labelledby="siteTitle">
  <div class="scroll-inner" id="siteTitle"
       aria-label="COMPOST ADJACENT" role="heading" aria-level="1"></div>
</div>

<div class="links-left">
  <a class="link-btn" href="https://open.spotify.com/artist/4JYHgAnjpihRXtvZ8Qssok" target="_blank" aria-label="Spotify">
    <svg viewBox="0 0 200 40" xmlns="http://www.w3.org/2000/svg">
      <path d="M5,20 Q25,10 45,20 T85,20 T125,20 T165,20 T195,20"
            fill="none" stroke="var(--worm2)" stroke-width="7"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
</div>

<div class="links-right">
  <a class="link-btn" href="https://www.instagram.com/compostadjacent/" target="_blank" aria-label="Instagram">
    <svg viewBox="0 0 200 40" xmlns="http://www.w3.org/2000/svg">
      <path d="M5,20 Q25,10 45,20 T85,20 T125,20 T165,20 T195,20"
            fill="none" stroke="var(--worm4)" stroke-width="7"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
  <a class="link-btn" href="https://www.instagram.com/compostadjacent/" target="_blank" aria-label="Contact">
    <svg viewBox="0 0 200 40" xmlns="http://www.w3.org/2000/svg">
      <path d="M5,20 Q25,10 45,20 T85,20 T125,20 T165,20 T195,20"
            fill="none" stroke="var(--worm1)" stroke-width="7"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
</div>
<script>
/* === compost-adjacent star-and-worm field === */
const canvas = document.getElementById("field");
const ctx = canvas.getContext("2d");
let w, h;
function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; }
window.addEventListener("resize",resize); resize();

/* color palettes shared with CSS */
const wormColors=["#ff4fb3","#80ffb0","#ffd24a","#ff8a3d","#50f1ff","#ff5b5b"];
const starColors=["#ff77ff","#77ffff","#ffe977","#8aff8a","#ff8a8a","#9a7bff"];

/* --- Title letters --- */
const title="COMPOST ADJACENT";
const titleContainer=document.querySelector(".scroll-inner");
for(let i=0;i<title.length;i++){
  const span=document.createElement("span");
  span.className="letter";
  span.textContent=title[i];
  span.style.color=wormColors[i%wormColors.length];
  span.style.animationDelay=(Math.random()*1.5).toFixed(2)+"s";
  titleContainer.appendChild(span);
}

/* --- stars --- */
const stars=[];
const STAR_COUNT=120;
for(let i=0;i<STAR_COUNT;i++){
  stars.push({
    x:Math.random()*w,
    y:Math.random()*h,
    size:Math.random()*1.5+0.3,
    base:Math.random()*0.6+0.4,
    color:starColors[Math.floor(Math.random()*starColors.length)],
    t:Math.random()*Math.PI*2,
    speed:0.01+Math.random()*0.015
  });
}

/* --- worms --- */
const worms=[];
const WORM_COUNT=24;
for(let i=0;i<WORM_COUNT;i++){
  worms.push({
    x:Math.random()*w,
    y:Math.random()*h,
    len:30+Math.random()*50,
    amp:2+Math.random()*3,
    phase:Math.random()*Math.PI*2,
    color:wormColors[i%wormColors.length],
    driftX:(Math.random()*0.3-0.15),
    driftY:(Math.random()*0.3-0.15)
  });
}

/* --- shooting stars --- */
let shootingStars=[];
let starTimer=0,starCount=0;
function spawnShootingStar(){
  const y=Math.random()*h*0.8;
  const dir=(Math.random()<0.5)?1:-1;
  shootingStars.push({
    x:(dir===1)?-50:w+50, y,
    vx:dir*(8+Math.random()*4), vy:(Math.random()*2-1)*2,
    life:0, explode:false
  });
}

/* --- main loop --- */
function draw(){
  ctx.clearRect(0,0,w,h);

  /* stars twinkle */
  for(const s of stars){
    s.t+=s.speed;
    const tw=Math.sin(s.t)*0.5+0.5;
    const alpha=s.base+tw*0.5;
    ctx.beginPath();
    ctx.fillStyle=s.color;
    ctx.globalAlpha=alpha;
    ctx.fillRect(s.x,s.y,s.size,s.size);
  }

  /* worms wriggle + drift */
  ctx.globalAlpha=1;
  for(const worm of worms){
    worm.phase+=0.1;
    worm.x+=worm.driftX;
    worm.y+=worm.driftY;
    if(worm.x<-100)worm.x=w+100;
    if(worm.x>w+100)worm.x=-100;
    if(worm.y<-100)worm.y=h+100;
    if(worm.y>h+100)worm.y=-100;
    ctx.strokeStyle=worm.color;
    ctx.lineWidth=3.5;
    ctx.beginPath();
    for(let i=0;i<worm.len;i++){
      const px=worm.x+i*2;
      const py=worm.y+Math.sin(i/2+worm.phase)*worm.amp;
      if(i===0)ctx.moveTo(px,py); else ctx.lineTo(px,py);
    }
    ctx.stroke();
  }

  /* shooting stars */
  for(let i=shootingStars.length-1;i>=0;i--){
    const s=shootingStars[i];
    s.x+=s.vx; s.y+=s.vy; s.life++;
    if(!s.explode){
      const trail=10;
      for(let j=0;j<trail;j++){
        const f=j/trail;
        ctx.globalAlpha=1-f;
        ctx.fillStyle="#ffffff";
        ctx.fillRect(s.x-s.vx*f,s.y-s.vy*f,2,2);
      }
      if(s.life>60){ s.explode=(++starCount%10===0); }
    } else {
      const parts=20;
      for(let j=0;j<parts;j++){
        const ang=Math.random()*Math.PI*2;
        const dist=s.life*0.6;
        const px=s.x+Math.cos(ang)*dist*0.05;
        const py=s.y+Math.sin(ang)*dist*0.05;
        ctx.globalAlpha=1-(s.life/60);
        ctx.fillStyle=starColors[Math.floor(Math.random()*starColors.length)];
        ctx.fillRect(px,py,2,2);
      }
      if(s.life>60)shootingStars.splice(i,1);
    }
    if(s.x<-200||s.x>w+200||s.y<-200||s.y>h+200)shootingStars.splice(i,1);
  }

  ctx.globalAlpha=1;
  requestAnimationFrame(draw);
}

/* --- control star bursts --- */
setInterval(()=>{
  if(document.visibilityState==="visible") spawnShootingStar();
},30000);

/* invert every 100th visit */
let visits=parseInt(localStorage.getItem("comp_visits")||"0")+1;
localStorage.setItem("comp_visits",visits);
if(visits%100===0) document.body.classList.add("inverted");

draw();
</script>
</body>
</html>
